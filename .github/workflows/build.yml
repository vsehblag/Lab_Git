name: MSBuild

on:
  push:
    branches: [ "master" ]
  pull_request:
    branches: [ "master" ]

jobs:
  build:
    runs-on: self-hosted  # Ваш локальный Windows runner

    steps:
    - uses: actions/checkout@v4

    - name: Build
      shell: cmd  # Явно указываем использовать командную строку вместо PowerShell
      run: |
        msbuild Step.sln ^
        /p:Configuration=Release ^
        /p:Platform=x64 ^
        /p:PlatformToolset=v143 ^
        /p:WindowsTargetPlatformVersion=10.0 ^
        /p:CppStandard=stdcpp17 ^
        /p:AdditionalOptions="/std:c++17"
